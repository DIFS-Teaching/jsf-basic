<!DOCTYPE html>
<html>
<head>
  <title>AJAX client</title>
  <meta charset="utf-8">
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js" type="text/javascript"></script>
  <style>
  body {
    font-family: sans-serif;
  }
  th {
    text-align: left;
    background-color: #aaf;
  }
  td {
    background-color: #ffa;
  }
  </style>
</head>
<body>
<h1>List of people</h1>
<form id="mainform">
    <input id="reload" type="button" value="Reload">
</form>

<table>
  <thead>
    <tr><th>Name</th><th>Surname</th><th>Born</th></tr>
  </thead>
  <tbody id="result">
  </tbody>
</table>

<script type="text/javascript">
function loadPeople(tab)
{
    var url = location.protocol + '//' + location.host + '/TestApp/rest/people/list';
    //console.log(url);
    jQuery.getJSON(url,
	      function (data) {
		  tab.empty();
		  for (var i = 0; i < data.length; i++) {
		      tab.append('<tr><td>'+data[i].name+'</td><td>'+data[i].surname+'</td><td>'+data[i].born+'</td></tr>');
                  }
	    }
    );
}

$(function() {
    $('#reload').click(function() {
    		var tab = $('#result');
            loadPeople(tab);
    });
});

</script>

</body>
</html>
